# RAG_Profagro

## üõ†Ô∏è –û—Å–Ω–æ–≤–Ω–æ–π —Å—Ç–µ–∫ –ø—Ä–æ–µ–∫—Ç–∞

![Python](https://img.shields.io/badge/-Python_3.10+-090909?style=for-the-badge&logo=python)
![FastAPI](https://img.shields.io/badge/-FastAPI-090909?style=for-the-badge&logo=fastapi)
![Gradio](https://img.shields.io/badge/-Gradio-090909?style=for-the-badge&logo=gradio)
![Aiogram](https://img.shields.io/badge/-Aiogram-090909?style=for-the-badge&logo=telegram)
![OpenSearch](https://img.shields.io/badge/-OpenSearch-090909?style=for-the-badge&logo=opensearch)
![Milvus](https://img.shields.io/badge/-Milvus-090909?style=for-the-badge&logo=milvus)
![Prefect](https://img.shields.io/badge/-Prefect-090909?style=for-the-badge&logo=prefect)
![Docker](https://img.shields.io/badge/-Docker-090909?style=for-the-badge&logo=docker)
![KServe](https://img.shields.io/badge/-KServe-090909?style=for-the-badge&logo=kubernetes)
![vLLM](https://img.shields.io/badge/-vLLM-090909?style=for-the-badge&logo=cloudsmith)
![Cloud.ru S3](https://img.shields.io/badge/-Cloud.ru_S3-090909?style=for-the-badge&logo=amazon-aws)

## –û–ø–∏—Å–∞–Ω–∏–µ

–î–∞–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–æ –∑–∞–∫–∞–∑—É –∞–≥—Ä–æ—Ö–æ–ª–¥–∏–Ω–≥–∞ –û–û–û ¬´–ü—Ä–æ—Ñ–ê–≥—Ä–æ¬ª –∏ –ø–æ—Å–≤—è—â—ë–Ω –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–º—É –≤–Ω–µ–¥—Ä–µ–Ω–∏—é –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–æ–≥–æ LLM-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞, –∏—Å–ø–æ–ª—å–∑—É—é—â–µ–≥–æ Retrieval-Augmented Generation (RAG) –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ —Ü–µ–Ω—Ç—Ä–æ–±–µ–∂–Ω—ã—Ö —Ä–∞–∑–±—Ä–∞—Å—ã–≤–∞—Ç–µ–ª–µ–π —É–¥–æ–±—Ä–µ–Ω–∏–π. –¶–µ–ª—å ‚Äî –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ–≥–æ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –ø–∞–π–ø–ª–∞–π–Ω–∞, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–µ–≥–æ –º–µ—Ö–∞–Ω–∏–∑–∞—Ç–æ—Ä—É –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º, —Ñ–æ—Ç–æ-—Å—Ö–µ–º–∞–º –∏ –≤–∏–¥–µ–æ–≥–∞–π–¥–∞–º AMAZONE –∏ Kverneland, –º–∏–Ω–∏–º–∏–∑–∏—Ä—É—è –æ—à–∏–±–∫–∏ –¥–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–π —Ñ–∞–∫—Ç–æ—Ä, –∞ —Ç–∞–∫–∂–µ –º–∞–∫—Å–∏–º–∏–∑–∏—Ä—É—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ä–∞–±–æ—Ç –∫–∞—Ä—Ç–∞–º –∑–∞–¥–∞–Ω–∏–π.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è

- **–ì–∏–±—Ä–∏–¥–Ω—ã–π —Ä–µ—Ç—Ä–∏–≤–µ—Ä**: OpenSearch + Milvus (embedder ‚Äî bge-m3), –æ–±—ä–µ–¥–∏–Ω—è—é—â–∏–π –ª–µ–∫—Å–∏—á–µ—Å–∫–∏–π –∏ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫.
- **Cross-Encoder-—Ä–µ—Ä–∞–Ω–∫–µ—Ä**: bge-reranker-v2-m3 –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —à—É–º–∞.
- **LLM**: GPT-4o (OpenAI) –∏–ª–∏ GigaChat-MAX-2 (–°–ë–ï–†), —Ñ–æ—Ä–º–∏—Ä—É—é—â–∏–π –æ—Ç–≤–µ—Ç—ã —Å —Ç–æ—á–Ω—ã–º–∏ —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∏.
- **–ö–æ—Ä–ø—É—Å –∑–Ω–∞–Ω–∏–π**: 1 182 —Å—Ç—Ä–∞–Ω–∏—Ü—ã PDF-—Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤ –∏ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö –≤–∏–¥–µ–æ—Ä–æ–ª–∏–∫–æ–≤ (>8 —á–∞—Å–æ–≤ —Ä–µ—á–∏), –∏–∑–≤–ª–µ—á—ë–Ω–Ω—ã–µ —Å –ø–æ–º–æ—â—å—é GPT-4o-mini –∏ whisper-v3-large-turbo.
- **–û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞**: —Ä—É—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π RAGAS, –≥—Ä–∞—Ñ –∑–Ω–∞–Ω–∏–π 60–ì–±, 1314 —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤.
- **–û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è**: Prefect.
- **–•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö**: Cloud.ru S3.
- **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞**: Docker-compose, 16 —Å–µ—Ä–≤–∏—Å–æ–≤, inference embedder/—Ä–µ—Ä–∞–Ω–∫–µ—Ä –Ω–∞ vLLM.

## –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –∑–Ω–∞—á–∏–º–æ—Å—Ç—å

–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –≤–Ω–µ–¥—Ä—ë–Ω –≤ –û–û–û ¬´–ü—Ä–æ—Ñ–ê–≥—Ä–æ¬ª, —Å–Ω–∏–∂–∞–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ø–µ—Ä–µ—Ä–∞—Å—Ö–æ–¥–∞ —É–¥–æ–±—Ä–µ–Ω–∏–π –∏ —É—Å–∫–æ—Ä—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫—É –∞–≥—Ä–µ–≥–∞—Ç–∞ –≤ –ø–æ–ª–µ–≤—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö. –ü—Ä–æ—Ç–æ—Ç–∏–ø –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω, –≥–æ—Ç–æ–≤ –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é –Ω–∞ –¥—Ä—É–≥–∏–µ –º–∞—Ä–∫–∏ —Ç–µ—Ö–Ω–∏–∫–∏ –∏ —è–∑—ã–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- Python 3.10+
- FastAPI, Gradio, aiogram
- OpenSearch, Milvus, Prefect
- Docker, docker-compose
- KServe, vLLM
- Cloud.ru S3

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
   ```bash
   git clone https://github.com/DmitrySirakov/RAG_Profagro
   cd RAG_Profagro
   ```
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É:
   ```bash
   docker-compose up --build
   ```
3. –î–ª—è –∑–∞–ø—É—Å–∫–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ ‚Äî —Å–º. –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ –ø–æ–¥–ø–∞–ø–∫–∞—Ö backend, frontend, ml

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

- `backend/` ‚Äî —Å–µ—Ä–≤–∏—Å—ã –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏, –ø–æ–∏—Å–∫–∞, –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- `frontend/` ‚Äî web-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ Telegram-–±–æ—Ç
- `ml/` ‚Äî –¥–µ–ø–ª–æ–π –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π
- `notebooks/` ‚Äî —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã –∏ –∞–Ω–∞–ª–∏–∑
- `certs/` ‚Äî —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã

## –ü–µ—Ä—Å–ø–µ–∫—Ç–∏–≤—ã —Ä–∞–∑–≤–∏—Ç–∏—è

- –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –ø–∞–Ω–µ–ª–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –¥–ª—è –Ω–∞—Ç–∏–≤–Ω–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–∏—Å—Ç–µ–º—ã.
- –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –Ω–∞ –Ω–æ–≤—ã–µ —Ç–∏–ø—ã —Ç–µ—Ö–Ω–∏–∫–∏ –∏ —è–∑—ã–∫–∏.
